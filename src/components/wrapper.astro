---
import Sidebar from "./sidebar.astro";
import MainContent from "./maincontent.astro";
const {
  header,
  headerLink,
  date,
  content,
  leftSidebarClass,
  rightSidebarClass,
} = Astro.props;
---

<div class="wrapper">
  <Sidebar classes={leftSidebarClass} />
  <MainContent id="mainContent">
    <h1>
      {
        headerLink ? (
          <a href={headerLink} target="_blank" rel="noopener noreferrer">
            {header}
          </a>
        ) : (
          header
        )
      }
    </h1>
    {
      date && (
        <p class="created-date">
          {" "}
          {date.toLocaleDateString("en-US", {
            year: "numeric",
            month: "long",
            day: "numeric",
          })}{" "}
        </p>
      )
    }
    {
      content ? (
        <>
          <div class="main-content-div" set:html={content} />
          <slot />
        </>
      ) : (
        <>
          <div class="main-content-div" set:html={content}>
            <slot class="main-content-div" />
          </div>
        </>
      )
    }
  </MainContent>
  <Sidebar classes={rightSidebarClass} />
</div>

<style>
  .wrapper {
    display: flex;
    flex-flow: wrap;
    position: absolute;
    width: 100%;
    min-height: 100%;
    /* padding-bottom has to be at least 2em so that no content is hidden under the footer */
    padding-bottom: 3em;
    background-color: var(--bgPrimary);
    color: var(--textPrimary);
  }
  .wrapper-item {
    flex: 1;
  }
  .main-content-div {
    padding-bottom: 1em;
  }

  .created-date {
    font-size: 0.8em;
    color: var(--textTertiary);
    text-align: right;
  }
</style>
